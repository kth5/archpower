# POWER Maintainer: Alexander Baldeck <alex.bldck@gmail.com>
# Maintainer: David Runge <dvzrv@archlinux.org>
# Maintainer: Christian Heusel <christian@heusel.eu>

pkgname=passt
pkgver=2025_08_05.309eefd
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64 powerpc64le powerpc64 powerpc espresso)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('5516c98a97ee60ad1fb1ea112d1c116758ba96203d45b91e1c9cd2d6332aba1c16208c97b39ad5fc3de7611867e5c3f0b4900c82397d57f00f0999863fb1b393')
b2sums=('d497c90c58fbfe6535d895c6cb4f5780940305f368feccf6d9a03bdd558412fed66f5f710b99ed20c160f0f7369f3e68e19cb598e7e77732e2ad33831d5fc512')

build() {
  make VERSION="$pkgver" -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}
