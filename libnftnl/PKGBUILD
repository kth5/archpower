# POWER Maintainer: Alexander Baldeck <alex.bldck@gmail.com>
# Maintainer: SÃ©bastien Luttringer

pkgname=libnftnl
pkgver=1.3.0
pkgrel=1
pkgdesc='Netfilter library providing interface to the nf_tables subsystem'
arch=(x86_64 powerpc64le powerpc64 powerpc espresso)
url='https://netfilter.org/projects/libnftnl/'
license=('GPL2')
depends=('libmnl')
makedepends=('git')
validpgpkeys=('8C5F7146A1757A65E2422A94D70D1A666ACF2B21') # Netfilter Core Team
source=("git+https://git.netfilter.org/libnftnl.git#tag=${pkgname}-${pkgver}?signed")
sha256sums=('0ff4f3036b657a1fd017c15e251e58dea3a8f55ecf7d6da5c9814ef6af798048')

prepare() {
  cd $pkgname
  autoreconf -fiv
}

build() {
  cd $pkgname
  ./configure --prefix=/usr
  make
}

check() {
  cd $pkgname
  make check
}

package() {
  cd $pkgname
  make DESTDIR="$pkgdir" install
}
