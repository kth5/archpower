From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Felix Yan <felixonmars@archlinux.org>
Date: Mon, 25 Jul 2022 14:19:44 +0000
Subject: [PATCH] fix iptables-apply (FS#75401)

Use Arch Linux paths.
---
 iptables/iptables-apply      | 8 ++++----
 iptables/iptables-apply.8.in | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/iptables/iptables-apply b/iptables/iptables-apply
index c603fb2113ef..62158f7a3b50 100755
--- a/iptables/iptables-apply
+++ b/iptables/iptables-apply
@@ -31,16 +31,16 @@ case "$PROGNAME" in
 	(*6*)
 		SAVE=ip6tables-save
 		RESTORE=ip6tables-restore
-		DEF_RULESFILE="/etc/network/ip6tables.up.rules"
+		DEF_RULESFILE="/etc/iptables/ip6tables.rules"
 		DEF_SAVEFILE="$DEF_RULESFILE"
-		DEF_RUNCMD="/etc/network/ip6tables.up.run"
+		DEF_RUNCMD="/etc/iptables/ip6tables.run"
 		;;
 	(*)
 		SAVE=iptables-save
 		RESTORE=iptables-restore
-		DEF_RULESFILE="/etc/network/iptables.up.rules"
+		DEF_RULESFILE="/etc/iptables/iptables.rules"
 		DEF_SAVEFILE="$DEF_RULESFILE"
-		DEF_RUNCMD="/etc/network/iptables.up.run"
+		DEF_RUNCMD="/etc/iptables/iptables.run"
 		;;
 esac
 
diff --git a/iptables/iptables-apply.8.in b/iptables/iptables-apply.8.in
index 33fd79fe53fb..34472ca3f286 100644
--- a/iptables/iptables-apply.8.in
+++ b/iptables/iptables-apply.8.in
@@ -19,24 +19,24 @@ the previous working iptables rules after the timeout expires.
 Successfully applied rules can also be written to savefile and later used
 to roll back to this state. This can be used to implement a store last good
 configuration mechanism when experimenting with an iptables setup script:
-iptables-apply \-w /etc/network/iptables.up.rules \-c /etc/network/iptables.up.run
+iptables-apply \-w /etc/iptables/iptables.rules \-c /etc/iptables/iptables.run
 .PP
 When called as ip6tables\-apply, the script will use
 ip6tables\-save/\-restore and IPv6 default values instead. Default
-value for rulesfile is '/etc/network/iptables.up.rules'.
+value for rulesfile is '/etc/iptables/iptables.rules'.
 .SH OPTIONS
 .TP
 \fB\-t\fP \fIseconds\fR, \fB\-\-timeout\fP \fIseconds\fR
 Sets the timeout in seconds after which the script will roll back
 to the previous ruleset (default: 10).
 .TP
 \fB\-w\fP \fIsavefile\fR, \fB\-\-write\fP \fIsavefile\fR
 Specify the savefile where successfully applied rules will be written to
-(default if empty string is given: /etc/network/iptables.up.rules).
+(default if empty string is given: /etc/iptables/iptables.rules).
 .TP
 \fB\-c\fP \fIruncmd\fR, \fB\-\-command\fP \fIruncmd\fR
 Run command runcmd to configure iptables instead of applying a rulesfile
-(default: /etc/network/iptables.up.run).
+(default: /etc/iptables/iptables.run).
 .TP
 \fB\-h\fP, \fB\-\-help\fP
 Display usage information.
